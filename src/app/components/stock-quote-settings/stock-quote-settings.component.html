<ion-content>
    <div style="margin-top: var(--ion-safe-area-top);">
        <ion-list>
            <ion-item>
                <ion-label style="font-weight: 600">Show Detail:</ion-label>
                <ion-icon slot="end" name="close-outline" (click)="dismiss()"></ion-icon>
            </ion-item>
            <ion-item>
                <ion-label>More</ion-label>
                <ion-toggle #showMoreToggle [checked]="showMore"></ion-toggle>
            </ion-item>
        </ion-list>

        <ion-list>
            <ion-item>
                <span>Stock codes</span><ion-button fill="clear" (click)="presentCodesSaveLoadPopover($event)">
                    <ion-icon name="ellipsis-vertical"></ion-icon>
                </ion-button>
                <ion-icon slot="end" name="close-outline" (click)="dismiss()"></ion-icon>
            </ion-item>
            <form [formGroup]="stockCodesForm">
                <div formArrayName="codes">
                    <ion-item *ngFor="let control of codes.controls; let i=index">
                        <ion-input [formControlName]="i" placeholder="code..."></ion-input>
                        <ion-icon (click)="removeCodesControlAt(i)" name="close-circle"></ion-icon>
                    </ion-item>
                </div>
            </form>
            <ion-item>
                <ion-button (click)="addControl()" fill="outline">
                    Add Code <ion-icon name="add-outline"></ion-icon>
                </ion-button>
            </ion-item>
        </ion-list>

        <ion-list>
            <ion-item>
                <ion-label style="font-weight: 600">Select indexes:</ion-label>
                <ion-icon slot="end" name="close-outline" (click)="dismiss()"></ion-icon>
            </ion-item>
            <ion-item *ngFor="let index of indexes">
                <ion-label>{{index.stockCode}}</ion-label>
                <ion-toggle (ionChange)="toggleChanged(index)" [checked]="isSelected(index)"></ion-toggle>
            </ion-item>
        </ion-list>
    </div>
</ion-content>
